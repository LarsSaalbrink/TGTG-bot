<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Testbench V1</title>
    <!-- <link rel="stylesheet" href="interface.css"> -->
  </head>

  <body>
    <section id="control-center">
      <button id="post-btn" onclick="sendData({message: 'Button1 pressed'})">POST Data</button>
    </section>

    <script>
      //https://www.youtube.com/watch?v=4K33w-0-p2c

      const postBtn = document.getElementById('post-btn');

      const serverAddress = 'http://localhost:8000';

      const getData = () => {
        const xhr = new XMLHttpRequest();
        xhr.open('GET', serverAddress);
      
        //Code to run when the response is received
        xhr.onload = function() {        
          const receiveData = JSON.parse(xhr.response);  //Parse the JSON response for it to be readable by JS
        }
      
        xhr.send();
      };

      const sendData = (data) => {                                 //data is JSON object      
        const xhr = new XMLHttpRequest();
        xhr.open('POST', serverAddress);
        xhr.responseType = 'json';                                 //Set the response type to JSON
        xhr.setRequestHeader('Content-Type', 'application/json');  //Set the header to indicate that sent data is of JSON format
      
        //Code to run when aknowledge is received
        xhr.onload = function() {

        }

        xhr.send(JSON.stringify(data));                 //Send data to the server after converting it to JSON string
      };

      //postBtn.onclick = sendData({message: 'Button1 pressed'});
      //postBtn.addEventListener('click', sendData({message: 'Button1 pressed'}));
    </script>
  </body>
</html>



